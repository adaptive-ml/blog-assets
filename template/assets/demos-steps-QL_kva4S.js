import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as h,m as E,d as w,R as x,O as P,e as C}from"./component-B847rBOH.js";import{c as L,S as g}from"./step-plugin-DzEhy8ku.js";import{s as b,c as N}from"./index-C6Sj2kLI.js";function k(t){const n=typeof t=="string"?document.querySelector(t):t;return n?{btnPrev:n.querySelector(".btn-prev"),btnNext:n.querySelector(".btn-next"),counter:n.querySelector(".step-counter"),title:n.querySelector(".step-title"),description:n.querySelector(".step-description")}:{btnPrev:null,btnNext:null,counter:null,title:null,description:null}}function q(t,n){const{steps:s,onStepChange:c}=n,o=s.length-1;let e=0;function l(){const{btnPrev:i,btnNext:r,counter:m,title:S,description:f}=t,v=s[e];i&&(i.disabled=e<=0),r&&(r.disabled=e>=o),m&&(m.textContent=`Step ${e+1} of ${s.length}`),S&&(S.textContent=v?.title??""),f&&(f.textContent=v?.description??"")}function a(i){const r=Math.max(0,Math.min(o,i));r!==e&&(e=r,l(),c(e))}const d=()=>a(e-1),u=()=>a(e+1),p=i=>{i.key==="ArrowLeft"&&a(e-1),i.key==="ArrowRight"&&a(e+1)};return t.btnPrev?.addEventListener("click",d),t.btnNext?.addEventListener("click",u),document.addEventListener("keydown",p),l(),{setStep(i){e=Math.max(0,Math.min(o,i)),l()},getStep:()=>e,getMaxStep:()=>o,dispose(){t.btnPrev?.removeEventListener("click",d),t.btnNext?.removeEventListener("click",u),document.removeEventListener("keydown",p)}}}const T={"0-1":"step-0-1","1-0":"step-1-0"},M=[{title:"Initial State",description:"Camera at starting position."},{title:"Zoomed In",description:"Camera moves closer, cube rises up."}];async function y(){const t=document.getElementById("canvas");if(!t)return;b(t),window.addEventListener("resize",()=>b(t));const n=await h.new().withCanvas(t).withLoading(E(t)).withPlugins(w,x,P,C,L(T)).withScene("/scenes/steps.scene").build(),c=[...n.query([g])][0];if(c!==void 0){const o=k(document.body);q(o,{steps:M,onStepChange(e){g.target[c]=e}})}N(n)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):y();
//# sourceMappingURL=demos-steps-QL_kva4S.js.map
