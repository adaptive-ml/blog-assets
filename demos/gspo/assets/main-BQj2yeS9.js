import{i as w,c as u,S as d,I,T as P,a as N,M as S,b,P as B,N as g,d as o}from"./stage-animation-DvalZTor.js";import{i as x,a as C,b as T,c as h,S as E,d as L,G as U,e as q,T as k}from"./step-content-DanWperp.js";const O=[{canvasId:"canvas-1",createPlugin:()=>[u(L),d,I,P,N,S,b,B,g],setupUI:c=>{const t=c.getEntityByName("controller");if(t===null)return;const e=1,a=E.length;o.targetStep[t]=e;const n=document.getElementById("btn-prev"),l=document.getElementById("btn-next"),r=document.getElementById("step-counter"),m=document.getElementById("step-title"),i=document.getElementById("step-description"),v=()=>{const s=o.targetStep[t];n&&(n.disabled=s<=e),l&&(l.disabled=s>=a);const p=s-1,y=E[p]??{title:"",description:""};r&&(r.textContent=`Step ${s} of ${a}`),m&&(m.textContent=y.title),i&&(i.textContent=y.description)},f=()=>{if(!i)return;i.style.height="auto";let s=0;for(const p of E)i.textContent=p.description,s=Math.max(s,i.offsetHeight);i.style.height=`${s}px`,v()};f(),window.addEventListener("resize",f),n?.addEventListener("click",()=>{const s=o.targetStep[t];s>e&&(o.targetStep[t]=s-1)}),l?.addEventListener("click",()=>{const s=o.targetStep[t];s<a&&(o.targetStep[t]=s+1)}),c.registerSystem({group:"simulation",update:v})}},{canvasId:"canvas-2",createPlugin:()=>[u(U),d,N,S,g],setupUI:c=>{const t=c.getEntityByName("controller");if(t===null)return;const e=document.getElementById("btn-generate-outputs");e&&e.addEventListener("click",()=>{const n=o.targetStep[t]===0?1:0;o.targetStep[t]=n,e.classList.toggle("active",n===1)})}},{canvasId:"canvas-3",createPlugin:()=>[u(q),d,S,b,g],setupUI:c=>{const t=c.getEntityByName("controller");if(t===null)return;const e=document.getElementById("btn-score-responses");e&&e.addEventListener("click",()=>{const n=o.targetStep[t]===0?1:0;o.targetStep[t]=n,e.classList.toggle("active",n===1)})}},{canvasId:"canvas-4",createPlugin:()=>[u(k),d,I,P,g],setupUI:c=>{const t=c.getEntityByName("controller");if(t===null)return;const e=document.getElementById("toggle-weighting"),a=document.getElementById("label-grpo"),n=document.getElementById("label-gspo");e&&e.addEventListener("click",()=>{const r=o.targetStep[t]===0?1:0;o.targetStep[t]=r,e.classList.toggle("active",r===1),a?.classList.toggle("active",r===0),n?.classList.toggle("active",r===1)})}}];if(typeof document<"u"){const c=()=>{const t=document.querySelector('world[canvas="#canvas-1"]');t&&x(t);const e=document.querySelector('world[canvas="#canvas-2"]');e&&C(e);const a=document.querySelector('world[canvas="#canvas-3"]');a&&T(a);const n=document.querySelector('world[canvas="#canvas-4"]');n&&h(n),w(O)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c()}
//# sourceMappingURL=main-BQj2yeS9.js.map
