<scene>
    <a id="orbit-target" transform="pos: 0 0 -10.5" />

    <a id="camera"
        transform
        camera="clear-color: 0xffffff; mode: 1; size: 4.5"
        orbit="button: 0; target: @orbit-target; target-distance: 15; target-yaw: 0; target-pitch: 1.5; min-pitch: 0; zoom-speed: 0"
        fxaa
    />

    <a ambient-light="intensity: 1.3" />
    <a directional-light="intensity: 0.7" />

    <a id="controller" step-controller />

    <a id="target-model"
        transform="pos: 0 0 7; scale: 1 1 1"
        mesh="shape: 0; size: 5 1.25 3; color: 0x2a4a6d"
        network
        target-model
    >
        <!-- Input slots -->
        <a id="slot-0" transform slot="index: 0">
            <a id="latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x6b9ea0" latent />
            <a id="token-0" transform="pos: 0 0 -13.5; euler: -90 0 0" text="font-size: 0.6; color: 0x4a7072; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 0" border="color: 0x6b9ea0; transition: 0" />
        </a>
        <a id="slot-1" transform slot="index: 1">
            <a id="latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x6b9ea0" latent />
            <a id="token-1" transform="pos: 0 0 -13.5; euler: -90 0 0" text="font-size: 0.6; color: 0x4a7072; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 0" border="color: 0x6b9ea0; transition: 0" />
        </a>
        <a id="slot-2" transform slot="index: 2">
            <a id="latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x6b9ea0" latent />
            <a id="token-2" transform="pos: 0 0 -13.5; euler: -90 0 0" text="font-size: 0.6; color: 0x4a7072; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 0" border="color: 0x6b9ea0; transition: 0" />
        </a>
        <a id="slot-3" transform slot="index: 3">
            <a id="latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x6b9ea0" latent />
            <a id="token-3" transform="pos: 0 0 -13.5; euler: -90 0 0" text="font-size: 0.6; color: 0x4a7072; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 0" border="color: 0x6b9ea0; transition: 0" />
        </a>

        <!-- Output slots -->
        <a id="out-slot-0" transform slot="index: 4; transition: 0" output>
            <a id="out-latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-0" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
        <a id="out-slot-1" transform slot="index: 5; transition: 0" output>
            <a id="out-latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-1" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
        <a id="out-slot-2" transform slot="index: 6; transition: 0" output>
            <a id="out-latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-2" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
        <a id="out-slot-3" transform slot="index: 7; transition: 0" output>
            <a id="out-latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-3" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
        <a id="out-slot-4" transform slot="index: 8; transition: 0" output>
            <a id="out-latent-4" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-4" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 4; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
        <a id="out-slot-5" transform slot="index: 9; transition: 0" output>
            <a id="out-latent-5" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x5aaa8f" latent />
            <a id="output-5" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x3d7560; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 5; group: 1" border="color: 0x5aaa8f; transition: 0" />
        </a>
    </a>

    <a id="draft-model"
        transform="pos: 0 3 17; scale: 0 0 0"
        mesh="shape: 0; size: 3.5 1 2; color: 0xb8864a"
        network
        draft-model
    >
        <!-- Input slots -->
        <a id="draft-slot-0" transform slot="index: 0">
            <a id="draft-latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="draft-token-0" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 2" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="draft-slot-1" transform slot="index: 1">
            <a id="draft-latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="draft-token-1" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 2" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="draft-slot-2" transform slot="index: 2">
            <a id="draft-latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="draft-token-2" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 2" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="draft-slot-3" transform slot="index: 3">
            <a id="draft-latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="draft-token-3" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 2" border="color: 0x8ebfc1; transition: 1" />
        </a>

        <!-- Output slots -->
        <a id="draft-out-slot-0" transform slot="index: 4; transition: 0" output>
            <a id="draft-out-latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-0" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-0" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 4" />
        </a>
        <a id="draft-out-slot-1" transform slot="index: 5; transition: 0" output>
            <a id="draft-out-latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-1" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-1" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 4" />
        </a>
        <a id="draft-out-slot-2" transform slot="index: 6; transition: 0" output>
            <a id="draft-out-latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-2" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-2" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 4" />
        </a>
        <a id="draft-out-slot-3" transform slot="index: 7; transition: 0" output>
            <a id="draft-out-latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-3" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-3" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 4" />
        </a>
        <a id="draft-out-slot-4" transform slot="index: 8; transition: 0" output>
            <a id="draft-out-latent-4" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-4" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 4; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-4" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0xef4444; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 4; group: 4" />
        </a>
        <a id="draft-out-slot-5" transform slot="index: 9; transition: 0" output>
            <a id="draft-out-latent-5" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="draft-output-5" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 5; group: 3" border="color: 0x7dc4ab; transition: 0" />
            <a id="draft-mark-5" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0xef4444; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 5; group: 4" />
        </a>
    </a>

    <a id="validation-model"
        transform="pos: 6 0 7; scale: 0 0 0"
        mesh="shape: 0; size: 5 1.25 3; color: 0x2a4a6d"
        validation-model
    />

    <!-- Step 0 -> 1: Show input tokens, zoom out, feed into model -->
    <a id="step-0-1" sequence step-transition="from: 0; to: 1">
        <a tween="target: @token-0.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-1.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-2.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-3.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.15" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 7; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.8; duration: 0" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.4; duration: 0" />
        <a tween="target: @token-0.transform.pos-z; to: -8.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-1.transform.pos-z; to: -8.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-2.transform.pos-z; to: -8.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-3.transform.pos-z; to: -8.5; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 1 -> 0: Zoom back, hide input tokens -->
    <a id="step-1-0" sequence step-transition="from: 1; to: 0">
        <a tween="target: @orbit-target.transform.pos-z; to: -10.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 4.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 1.5; duration: 0" />
        <a tween="target: @camera.orbit.target-yaw; to: 0; duration: 0" />
        <a tween="target: @token-0.transform.pos-z; to: -13.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-1.transform.pos-z; to: -13.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-2.transform.pos-z; to: -13.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-3.transform.pos-z; to: -13.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-0.border.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-1.border.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-2.border.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @token-3.border.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 1 -> 2: Show first output (bees) -->
    <a id="step-1-2" sequence step-transition="from: 1; to: 2">
        <a tween="target: @out-slot-0.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-0.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 4; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -4; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 4.5; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 2 -> 1: Hide first output -->
    <a id="step-2-1" sequence step-transition="from: 2; to: 1">
        <a tween="target: @out-slot-0.slot.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @output-0.border.transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 7; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 2 -> 3: Show remaining 5 outputs one by one, sliding camera with each -->
    <a id="step-2-3" sequence step-transition="from: 2; to: 3">
        <!-- communicate -->
        <a tween="target: @orbit-target.transform.pos-x; to: 6; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @out-slot-1.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-1.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.3" />
        <!-- with -->
        <a tween="target: @orbit-target.transform.pos-x; to: 8; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @out-slot-2.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-2.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.3" />
        <!-- a -->
        <a tween="target: @orbit-target.transform.pos-x; to: 10; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @out-slot-3.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-3.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.3" />
        <!-- wiggle -->
        <a tween="target: @orbit-target.transform.pos-x; to: 12; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @out-slot-4.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-4.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.3" />
        <!-- dance -->
        <a tween="target: @orbit-target.transform.pos-x; to: 14; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @out-slot-5.slot.transition; to: 1; duration: 0.5; easing: ease-out-back" />
        <a tween="target: @output-5.border.transition; to: 1; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 3 -> 2: Hide all outputs except first one, sliding camera back -->
    <a id="step-3-2" sequence step-transition="from: 3; to: 2">
        <a tween="target: @orbit-target.transform.pos-x; to: 12; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-slot-5.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @output-5.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 10; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-slot-4.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @output-4.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 8; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-slot-3.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @output-3.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 6; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-slot-2.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @output-2.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 4; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-slot-1.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @output-1.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 3 -> 4: Pan camera back to origin, zoom out, then scale in draft model -->
    <a id="step-3-4" sequence step-transition="from: 3; to: 4">
        <a tween="target: @orbit-target.transform.pos-x; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -3; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 7; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.1" />
        <a tween="target: @draft-model.transform.scale-x; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.scale-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.scale-z; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.pos-z; to: 7; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 4 -> 3: Scale out draft model, return camera to step 3 position -->
    <a id="step-4-3" sequence step-transition="from: 4; to: 3">
        <a tween="target: @draft-model.transform.scale-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.scale-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.scale-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.transform.pos-z; to: 17; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 14; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -4; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 4.5; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 4 -> 5: Draft model rapidly generates outputs, then tilt to view -->
    <a id="step-4-5" sequence step-transition="from: 4; to: 5">
        <a tween="target: @orbit-target.transform.pos-x; to: 7; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 3; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -2; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 8; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.1" />
        <a tween="target: @draft-out-slot-0.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-0.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.08" />
        <a tween="target: @draft-out-slot-1.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-1.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.08" />
        <a tween="target: @draft-out-slot-2.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-2.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.08" />
        <a tween="target: @draft-out-slot-3.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-3.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.08" />
        <a tween="target: @draft-out-slot-4.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-4.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.08" />
        <a tween="target: @draft-out-slot-5.slot.transition; to: 1; duration: 0.2; easing: ease-out-back" />
        <a tween="target: @draft-output-5.border.transition; to: 1; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <a tween="target: @camera.orbit.target-pitch; to: 1.1; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.2; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 13; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -5; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 5; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 5 -> 4: Hide draft outputs, return camera to draft model view -->
    <a id="step-5-4" sequence step-transition="from: 5; to: 4">
        <a tween="target: @camera.orbit.target-pitch; to: 0.8; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.4; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -3; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 7; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-5.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-5.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-4.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-4.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-3.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-3.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-2.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-2.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-1.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-1.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-0.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-output-0.border.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 5 -> 6: Hide target model and draft model mesh, show validation model -->
    <a id="step-5-6" sequence step-transition="from: 5; to: 6">
        <a tween="target: @target-model.transform.scale-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @target-model.transform.scale-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @target-model.transform.scale-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.network.line-transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 6; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 1.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -2; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 9; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.9; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <a tween="target: @validation-model.transform.scale-x; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-z; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Validation colors: first 2 green (valid), rest red (invalid) -->
        <!-- Green 0x22c55e → R: 0.13, G: 0.77, B: 0.37 -->
        <a tween="target: @draft-out-latent-0.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a pause="duration: 0.05" />
        <a tween="target: @draft-out-latent-1.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-1.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-1.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a pause="duration: 0.05" />
        <!-- Green 0x22c55e → R: 0.13, G: 0.77, B: 0.37 (probabilistic acceptance) -->
        <a tween="target: @draft-out-latent-2.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-2.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-2.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a pause="duration: 0.05" />
        <a tween="target: @draft-out-latent-3.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-3.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-3.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a pause="duration: 0.05" />
        <!-- Red 0xef4444 → R: 0.94, G: 0.27, B: 0.27 (rejected) -->
        <a tween="target: @draft-out-latent-4.mesh.color-r; to: 0.94; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-4.mesh.color-g; to: 0.27; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-4.mesh.color-b; to: 0.27; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a pause="duration: 0.05" />
        <a tween="target: @draft-out-latent-5.mesh.color-r; to: 0.94; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-5.mesh.color-g; to: 0.27; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-5.mesh.color-b; to: 0.27; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-5.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-5.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 6 -> 5: Hide validation model, show target model and draft model mesh -->
    <a id="step-6-5" sequence step-transition="from: 6; to: 5">
        <!-- Hide validation marks and reset colors -->
        <a tween="target: @draft-mark-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Original 0x7dc4ab → R: 0.49, G: 0.77, B: 0.67 -->
        <a tween="target: @draft-out-latent-0.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-4.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-4.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-4.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-5.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-5.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-5.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <a tween="target: @target-model.transform.scale-x; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @target-model.transform.scale-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @target-model.transform.scale-z; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-x; to: 3.5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-z; to: 2; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.network.line-transition; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 13; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 5; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 1.1; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 6 -> 7: Focus on accepted outputs, hide rejected, reset colors -->
    <a id="step-6-7" sequence step-transition="from: 6; to: 7">
        <!-- Hide validation marks -->
        <a tween="target: @draft-mark-0.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-0.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-0.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-1.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-2.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-3.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-4.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @draft-mark-5.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide rejected outputs (4-5) -->
        <a tween="target: @draft-out-slot-4.slot.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-output-4.border.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-5.slot.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-output-5.border.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <!-- Tween accepted latent colors (0-3) to standard output color 0x5aaa8f → R: 0.35, G: 0.67, B: 0.56 -->
        <a tween="target: @draft-out-latent-0.mesh.color-r; to: 0.35; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-g; to: 0.67; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-b; to: 0.56; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-r; to: 0.35; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-g; to: 0.67; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-b; to: 0.56; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-r; to: 0.35; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-g; to: 0.67; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-b; to: 0.56; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-r; to: 0.35; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-g; to: 0.67; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-b; to: 0.56; duration: 0.4; easing: ease-out-expo" />
        <!-- Pan camera to focus on accepted output tokens -->
        <a tween="target: @orbit-target.transform.pos-x; to: 5; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 3; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -2; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 7; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 1.5; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 7 -> 6: Return to validation view -->
    <a id="step-7-6" sequence step-transition="from: 7; to: 6">
        <!-- Show validation marks -->
        <a tween="target: @draft-mark-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-1.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-1.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-1.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-2.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-2.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-2.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-3.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-3.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-3.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-5.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-5.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @draft-mark-5.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <!-- Show rejected outputs (4-5) -->
        <a tween="target: @draft-out-slot-4.slot.transition; to: 1; duration: 0.4; easing: ease-out-back" />
        <a tween="target: @draft-output-4.border.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-slot-5.slot.transition; to: 1; duration: 0.4; easing: ease-out-back" />
        <a tween="target: @draft-output-5.border.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Tween accepted latent colors (0-3) back to valid green 0x22c55e → R: 0.13, G: 0.77, B: 0.37 -->
        <a tween="target: @draft-out-latent-0.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-0.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-1.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-2.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-out-latent-3.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <!-- Pan camera back to validation view -->
        <a tween="target: @orbit-target.transform.pos-x; to: 6; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 1.5; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: -2; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.camera.size; to: 9; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.9; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.2; duration: 0.6; easing: ease-out-expo" />
    </a>

</scene>
