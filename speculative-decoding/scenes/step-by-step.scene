<scene>
    <a id="orbit-target" transform="pos: 7 1.5 0" />

    <a id="camera"
        transform
        camera="clear-color: 0xffffff; mode: 1; size: 9"
        orbit="button: 0; target: @orbit-target; target-distance: 15; yaw: 0.4; pitch: 0.8; target-yaw: 0.4; target-pitch: 0.8; min-pitch: 0; zoom-speed: 0; target-size: 9"
        fxaa
    />

    <a ambient-light="intensity: 1.3" />
    <a directional-light="intensity: 0.7" />

    <a id="controller" step-controller />

    <a id="draft-model"
        transform="pos: 0 3 7; scale: 1 1 1"
        mesh="shape: 0; size: 3.5 1 2; color: 0xb8864a"
        network
        draft-model
    >
        <!-- Input slots (always visible) -->
        <a id="slot-0" transform slot="index: 0; transition: 1">
            <a id="latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="token-0" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 0" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="slot-1" transform slot="index: 1; transition: 1">
            <a id="latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="token-1" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 0" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="slot-2" transform slot="index: 2; transition: 1">
            <a id="latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="token-2" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 0" border="color: 0x8ebfc1; transition: 1" />
        </a>
        <a id="slot-3" transform slot="index: 3; transition: 1">
            <a id="latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x8ebfc1" latent />
            <a id="token-3" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x6a9092; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 0" border="color: 0x8ebfc1; transition: 1" />
        </a>

        <!-- Output slots (always visible) -->
        <a id="out-slot-0" transform slot="index: 4; transition: 1" output>
            <a id="out-latent-0" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-0" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 0; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-0" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5; content: ✓" token-index="index: 0; group: 2" />
            <!-- Graph viewport at end of latent, offset up in Y -->
            <a id="graph-viewport" transform="pos: 0 1.5 -7; scale: 0 0 0">
                <!-- Border lines (10x7 rectangle) -->
                <a id="border-bottom" transform="pos: -5 0 0" line="offset-x: 10; offset-y: 0; offset-z: 0; color: 0x6b7280; thickness: 2" />
                <a id="border-top" transform="pos: -5 7 0" line="offset-x: 10; offset-y: 0; offset-z: 0; color: 0x6b7280; thickness: 2" />
                <a id="border-left" transform="pos: -5 0 0" line="offset-x: 0; offset-y: 7; offset-z: 0; color: 0x6b7280; thickness: 2" />
                <a id="border-right" transform="pos: 5 0 0" line="offset-x: 0; offset-y: 7; offset-z: 0; color: 0x6b7280; thickness: 2" />
                <!-- Arrow from latent endpoint up to viewport bottom -->
                <a id="viewport-arrow" transform="pos: 0 0 0" line="offset-x: 0; offset-y: -1.5; offset-z: 0; color: 0x7dc4ab; thickness: 3" arrow="start: 0; end: 1; size: 0.5" />

                <!-- Probability bars (dense distribution) -->
                <a id="prob-bars" transform="pos: 0 0.5 0" probability-distribution="bar-count: 25" />

                <!-- Gradient legend for acceptance probability -->
                <a id="acceptance-legend" transform="pos: 6 3.5 0" gradient-legend="width: 0.4; height: 5; transition: 0">
                    <a id="legend-label-top" transform="pos: 0 2.95 0; scale: 0 0 0" text="font-size: 0.4; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5; content: Accept" />
                    <a id="legend-label-bottom" transform="pos: 0 -2.95 0; scale: 0 0 0" text="font-size: 0.4; color: 0xef4444; anchor-x: 0.5; anchor-y: 0.5; content: Reject" />
                    <a id="legend-tick-top" transform="pos: -0.35 2.5 0; scale: 0 0 0" text="font-size: 0.35; color: 0x22c55e; anchor-x: 1; anchor-y: 0.5; content: 1" />
                    <a id="legend-tick-bottom" transform="pos: -0.35 -2.5 0; scale: 0 0 0" text="font-size: 0.35; color: 0xef4444; anchor-x: 1; anchor-y: 0.5; content: 0" />
                </a>

                <!-- Highlighted token label with connector line -->
                <a id="highlight-0" transform="pos: 0 0 0" bar-highlight="distribution: @prob-bars; bar-index: 6; y-offset: 1.2">
                    <a id="highlight-label-0" transform="pos: 0 0 0" text="font-size: 0.4; color: 0x2a4a6d; anchor-x: 0.5; anchor-y: 0.5" border="color: 0x2a4a6d; padding: 0.15" />
                    <a id="highlight-line-0" transform="pos: 0 -0.35 0" line="offset-x: 0; offset-y: -0.9; offset-z: 0; color: 0x2a4a6d; thickness: 1" />
                </a>

                <!-- Wiggle highlight (for residual step) -->
                <a id="highlight-1" transform="pos: 0 0 -0.5; scale: 0 0 0" bar-highlight="distribution: @prob-bars; bar-index: 3; y-offset: 4.5">
                    <a id="highlight-label-1" transform="pos: 0 0 0" text="font-size: 0.4; color: 0x9333ea; anchor-x: 0.5; anchor-y: 0.5" border="color: 0x9333ea; padding: 0.15" />
                    <a id="highlight-line-1" transform="pos: 0 -0.35 0" line="offset-x: 0; offset-y: -0.9; offset-z: 0; color: 0x9333ea; thickness: 1" />
                </a>
            </a>
        </a>
        <a id="out-slot-1" transform slot="index: 5; transition: 1" output>
            <a id="out-latent-1" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-1" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 1; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-1" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5; content: ✓" token-index="index: 1; group: 2" />
        </a>
        <a id="out-slot-2" transform slot="index: 6; transition: 1" output>
            <a id="out-latent-2" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-2" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 2; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-2" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5; content: ✓" token-index="index: 2; group: 2" />
        </a>
        <a id="out-slot-3" transform slot="index: 7; transition: 1" output>
            <a id="out-latent-3" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-3" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 3; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-3" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0x22c55e; anchor-x: 0.5; anchor-y: 0.5; content: ✓" token-index="index: 3; group: 2" />
        </a>
        <a id="out-slot-4" transform slot="index: 8; transition: 1" output>
            <a id="out-latent-4" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-4" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 4; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-4" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0xef4444; anchor-x: 0.5; anchor-y: 0.5; content: ✗" token-index="index: 4; group: 2" />
        </a>
        <a id="out-slot-5" transform slot="index: 9; transition: 1" output>
            <a id="out-latent-5" transform="pos: 0 0 -3.5" mesh="shape: 0; size: 0.5 0.5 7; color: 0x7dc4ab" latent />
            <a id="output-5" transform="pos: 0 0 -8.5; euler: -90 0 0" text="font-size: 0.6; color: 0x5a9580; anchor-x: 0.5; anchor-y: 0.5" token-index="index: 5; group: 1" border="color: 0x7dc4ab; transition: 1" />
            <a id="mark-5" transform="pos: 0 0 -9.5; euler: -90 0 0; scale: 0 0 0" text="font-size: 1.2; color: 0xef4444; anchor-x: 0.5; anchor-y: 0.5; content: ✗" token-index="index: 5; group: 2" />
        </a>
    </a>

    <a id="validation-model"
        transform="pos: 5 0 7; scale: 0 0 0"
        mesh="shape: 0; size: 5 1.25 3; color: 0x2a4a6d"
        validation-model
    />

    <!-- Step 0 -> 1: Hide draft model mesh, show validation model -->
    <a id="step-0-1" sequence step-transition="from: 0; to: 1">
        <!-- Hide draft model mesh -->
        <a tween="target: @draft-model.mesh.size-x; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-y; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @draft-model.network.line-transition; to: 0; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Show validation model -->
        <a tween="target: @validation-model.transform.scale-x; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-z; to: 1; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 1 -> 0: Reverse - hide validation, show draft -->
    <a id="step-1-0" sequence step-transition="from: 1; to: 0">
        <!-- Hide validation model -->
        <a tween="target: @validation-model.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @validation-model.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a pause="duration: 0.1" />
        <!-- Show draft model mesh -->
        <a tween="target: @draft-model.mesh.size-x; to: 3.5; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-model.mesh.size-z; to: 2; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @draft-model.network.line-transition; to: 1; duration: 0.4; easing: ease-out-expo" />
    </a>

    <!-- Step 1 -> 2: Pan camera to face XY plane, show viewport -->
    <a id="step-1-2" sequence step-transition="from: 1; to: 2">
        <a tween="target: @orbit-target.transform.pos-x; to: 8; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 8.75; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.35; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.25; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-size; to: 4.5; duration: 0.8; easing: ease-out-expo" />
        <a pause="duration: 0.1" />
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.5; easing: ease-out-expo" />
    </a>

    <!-- Step 2 -> 1: Return camera, hide viewport -->
    <a id="step-2-1" sequence step-transition="from: 2; to: 1">
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 7; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 1.5; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.8; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-yaw; to: 0.4; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-size; to: 9; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 2 -> 3: Transition to draft distribution -->
    <a id="step-2-3" sequence step-transition="from: 2; to: 3">
        <a tween="target: @prob-bars.probability-distribution.blend; to: 1; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 3 -> 2: Return to target distribution -->
    <a id="step-3-2" sequence step-transition="from: 3; to: 2">
        <a tween="target: @prob-bars.probability-distribution.blend; to: 0; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 3 -> 4: Show comparison bars (target behind draft), acceptance markers, legend, hide label -->
    <a id="step-3-4" sequence step-transition="from: 3; to: 4">
        <a tween="target: @prob-bars.probability-distribution.comparison-transition; to: 1; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <a tween="target: @prob-bars.probability-distribution.acceptance-transition; to: 1; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 9; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
    </a>

    <!-- Step 4 -> 3: Hide comparison bars, acceptance markers, legend, show label -->
    <a id="step-4-3" sequence step-transition="from: 4; to: 3">
        <a tween="target: @prob-bars.probability-distribution.comparison-transition; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @prob-bars.probability-distribution.acceptance-transition; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-x; to: 8; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 4 -> 5: Accept bees - hide graph, pan down, accept -->
    <a id="step-4-5" sequence step-transition="from: 4; to: 5">
        <!-- Hide legend and labels -->
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <!-- Pan camera down -->
        <a tween="target: @camera.orbit.target-pitch; to: 0.55; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 3; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Tween latent to acceptance green (0x22c55e → R: 0.13, G: 0.77, B: 0.37) -->
        <a tween="target: @out-latent-0.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <!-- Show check mark -->
        <a tween="target: @mark-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 5 -> 4: Reverse - hide check mark, restore latent, show graph -->
    <a id="step-5-4" sequence step-transition="from: 5; to: 4">
        <!-- Hide check mark -->
        <a tween="target: @mark-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset latent to original (0x7dc4ab → R: 0.49, G: 0.77, B: 0.67) -->
        <a tween="target: @out-latent-0.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Restore camera -->
        <a tween="target: @camera.orbit.target-pitch; to: 0.35; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <!-- Show graph -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Show legend -->
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 5 -> 6: Accept communicate - pan over, show graph, accept -->
    <a id="step-5-6" sequence step-transition="from: 5; to: 6">
        <!-- Pan camera over and restore pitch -->
        <a tween="target: @orbit-target.transform.pos-x; to: 12; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.35; duration: 0.6; easing: ease-out-expo" />
        <!-- Move graph position (while hidden) -->
        <a tween="target: @graph-viewport.transform.pos-x; to: 3.2; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Show graph, legend, and highlight label -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.pos-z; to: -0.5; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Tween latent to acceptance green -->
        <a tween="target: @out-latent-1.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <!-- Show check mark -->
        <a tween="target: @mark-1.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-1.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-1.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 6 -> 5: Reverse - hide graph, pan back down -->
    <a id="step-6-5" sequence step-transition="from: 6; to: 5">
        <!-- Hide check mark -->
        <a tween="target: @mark-1.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-1.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-1.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset latent to original -->
        <a tween="target: @out-latent-1.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph, legend, and highlight label -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.pos-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Pan camera back and pitch down -->
        <a tween="target: @orbit-target.transform.pos-x; to: 9; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 3; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.55; duration: 0.6; easing: ease-out-expo" />
        <!-- Move graph position back (while hidden) -->
        <a tween="target: @graph-viewport.transform.pos-x; to: 0; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 6 -> 7: Accept using - hide graph, pan over, show graph, accept -->
    <a id="step-6-7" sequence step-transition="from: 6; to: 7">
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Slide camera over and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 15; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 6.515; duration: 0.6; easing: ease-out-expo" />
        <!-- Reset highlight pos-z for draft bar position -->
        <a tween="target: @highlight-0.transform.pos-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Accept using: tween latent to yellow (0.8 acceptance = 0xfbbf24) -->
        <a tween="target: @out-latent-2.mesh.color-r; to: 0.984; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-g; to: 0.749; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-b; to: 0.141; duration: 0.4; easing: ease-out-expo" />
        <!-- Show check mark -->
        <a tween="target: @mark-2.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-2.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-2.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 7 -> 6: Reverse - hide graph, pan back, show graph -->
    <a id="step-7-6" sequence step-transition="from: 7; to: 6">
        <!-- Hide check mark -->
        <a tween="target: @mark-2.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-2.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-2.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset latent to original -->
        <a tween="target: @out-latent-2.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Pan camera back and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 12; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 3.2; duration: 0.6; easing: ease-out-expo" />
        <!-- Restore highlight pos-z for communicate -->
        <a tween="target: @highlight-0.transform.pos-z; to: -0.5; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 7 -> 8: Accept a - hide graph, pan over, show graph, accept -->
    <a id="step-7-8" sequence step-transition="from: 7; to: 8">
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Slide camera over and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 17; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 8.2; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Accept a: tween latent to yellow (0.9 acceptance = 0xfbbf24) -->
        <a tween="target: @out-latent-3.mesh.color-r; to: 0.984; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-g; to: 0.749; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-b; to: 0.141; duration: 0.4; easing: ease-out-expo" />
        <!-- Show check mark -->
        <a tween="target: @mark-3.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-3.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-3.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 8 -> 7: Reverse - hide graph, pan back, show graph -->
    <a id="step-8-7" sequence step-transition="from: 8; to: 7">
        <!-- Hide check mark -->
        <a tween="target: @mark-3.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-3.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-3.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset latent to original -->
        <a tween="target: @out-latent-3.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Pan camera back and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 15; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 6.515; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 8 -> 9: Reject buzz - hide graph, pan over, show graph, reject -->
    <a id="step-8-9" sequence step-transition="from: 8; to: 9">
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Slide camera over and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 19; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 9.73; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Reject buzz: tween latent to red (0.2 acceptance = 0xef4444) -->
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.937; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.267; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.267; duration: 0.4; easing: ease-out-expo" />
        <!-- Show X mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 9 -> 8: Reverse - hide graph, pan back, show graph -->
    <a id="step-9-8" sequence step-transition="from: 9; to: 8">
        <!-- Hide X mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset latent to original -->
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Pan camera back and move graph position -->
        <a tween="target: @orbit-target.transform.pos-x; to: 17; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.pos-x; to: 8.2; duration: 0.6; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Show graph, legend, highlight, legend labels -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 9 -> 10: Show residual distribution -->
    <a id="step-9-10" sequence step-transition="from: 9; to: 10">
        <!-- Hide acceptance legend and labels -->
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Hide acceptance markers -->
        <a tween="target: @prob-bars.probability-distribution.acceptance-transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Show residual bars (purple) in front -->
        <a tween="target: @prob-bars.probability-distribution.residual-transition; to: 1; duration: 0.6; easing: ease-out-expo" />
        <!-- Show wiggle highlight -->
        <a tween="target: @highlight-1.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
    </a>

    <!-- Step 10 -> 9: Return to acceptance view -->
    <a id="step-10-9" sequence step-transition="from: 10; to: 9">
        <!-- Hide wiggle highlight -->
        <a tween="target: @highlight-1.transform.scale-x; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-y; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-z; to: 0; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide residual bars -->
        <a tween="target: @prob-bars.probability-distribution.residual-transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Show acceptance markers -->
        <a tween="target: @prob-bars.probability-distribution.acceptance-transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Show acceptance legend and labels -->
        <a tween="target: @acceptance-legend.gradient-legend.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-label-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-top.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @legend-tick-bottom.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 10 -> 11: Replace buzz with wiggle -->
    <a id="step-10-11" sequence step-transition="from: 10; to: 11">
        <!-- Hide highlights -->
        <a tween="target: @highlight-0.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Hide residual bars -->
        <a tween="target: @prob-bars.probability-distribution.residual-transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide graph -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <!-- Pitch camera down -->
        <a tween="target: @camera.orbit.target-pitch; to: 0.55; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 3; duration: 0.5; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Hide buzz and sound slots -->
        <a tween="target: @out-slot-4.slot.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-slot-5.slot.transition; to: 0; duration: 0.4; easing: ease-out-expo" />
        <!-- Hide X mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a pause="duration: 0.25" />
        <!-- Trigger text replacement -->
        <a tween="target: @output-4.token-replacement.trigger; to: 1; duration: 0.1" />
        <!-- Trigger mark text replacement (✗ → ✓) -->
        <a tween="target: @mark-4.token-replacement.trigger; to: 1; duration: 0.1" />
        <!-- Change mark color to green -->
        <a tween="target: @mark-4.text.color-r; to: 0.13; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @mark-4.text.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @mark-4.text.color-b; to: 0.37; duration: 0.3; easing: ease-out-expo" />
        <!-- Show wiggle slot -->
        <a tween="target: @out-slot-4.slot.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Color latent green -->
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.13; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.77; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.37; duration: 0.4; easing: ease-out-expo" />
        <!-- Show check mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

    <!-- Step 11 -> 10: Return to residual view -->
    <a id="step-11-10" sequence step-transition="from: 11; to: 10">
        <!-- Hide check mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-y; to: 0; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-z; to: 0; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset mark color to red -->
        <a tween="target: @mark-4.text.color-r; to: 0.937; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.text.color-g; to: 0.267; duration: 0.2; easing: ease-out-expo" />
        <a tween="target: @mark-4.text.color-b; to: 0.267; duration: 0.2; easing: ease-out-expo" />
        <!-- Reset mark text (✓ → ✗) -->
        <a tween="target: @mark-4.token-replacement.trigger; to: 0; duration: 0.1" />
        <!-- Reset latent color -->
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.49; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.77; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.67; duration: 0.3; easing: ease-out-expo" />
        <!-- Hide wiggle slot -->
        <a tween="target: @out-slot-4.slot.transition; to: 0; duration: 0.3; easing: ease-out-expo" />
        <a pause="duration: 0.2" />
        <!-- Trigger text replacement back to buzz -->
        <a tween="target: @output-4.token-replacement.trigger; to: 0; duration: 0.1" />
        <!-- Show buzz and sound slots -->
        <a tween="target: @out-slot-4.slot.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @out-slot-5.slot.transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Show X mark -->
        <a tween="target: @mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <!-- Restore camera -->
        <a tween="target: @camera.orbit.target-pitch; to: 0.35; duration: 0.5; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.5; easing: ease-out-expo" />
        <!-- Show graph -->
        <a tween="target: @graph-viewport.transform.scale-x; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-y; to: 1; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @graph-viewport.transform.scale-z; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Show residual bars -->
        <a tween="target: @prob-bars.probability-distribution.residual-transition; to: 1; duration: 0.4; easing: ease-out-expo" />
        <!-- Show highlights -->
        <a tween="target: @highlight-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-expo" />
        <a tween="target: @highlight-1.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-expo" />
    </a>

    <!-- Step 11 -> 12: Zoom out to show entire scene, convert outputs to inputs -->
    <a id="step-11-12" sequence step-transition="from: 11; to: 12">
        <!-- Camera zoom out -->
        <a tween="target: @orbit-target.transform.pos-x; to: 7; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 1.5; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 0; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.8; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-size; to: 9; duration: 0.8; easing: ease-out-expo" />
        <!-- Hide checkmarks -->
        <a tween="target: @mark-0.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-0.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-0.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-1.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-1.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-1.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-2.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-2.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-2.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-3.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-3.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-3.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-x; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-y; to: 0; duration: 0.4; easing: ease-out-expo" />
        <a tween="target: @mark-4.transform.scale-z; to: 0; duration: 0.4; easing: ease-out-expo" />
        <!-- Change latent colors to input blue (0x8ebfc1) -->
        <a tween="target: @out-latent-0.mesh.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <!-- Change text colors to input blue (0x6a9092) -->
        <a tween="target: @output-0.text.color-r; to: 0.416; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.text.color-g; to: 0.565; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.text.color-b; to: 0.573; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-r; to: 0.416; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-g; to: 0.565; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-b; to: 0.573; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-r; to: 0.416; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-g; to: 0.565; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-b; to: 0.573; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-r; to: 0.416; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-g; to: 0.565; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-b; to: 0.573; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-r; to: 0.416; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-g; to: 0.565; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-b; to: 0.573; duration: 0.6; easing: ease-out-expo" />
        <!-- Change border colors to input blue (0x8ebfc1) -->
        <a tween="target: @output-0.border.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.border.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.border.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-r; to: 0.557; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-b; to: 0.757; duration: 0.6; easing: ease-out-expo" />
    </a>

    <!-- Step 12 -> 11: Zoom back in to wiggle view, restore output colors -->
    <a id="step-12-11" sequence step-transition="from: 12; to: 11">
        <!-- Camera zoom in -->
        <a tween="target: @orbit-target.transform.pos-x; to: 19; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-y; to: 8.75; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @orbit-target.transform.pos-z; to: 3; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-pitch; to: 0.55; duration: 0.8; easing: ease-out-expo" />
        <a tween="target: @camera.orbit.target-size; to: 4.5; duration: 0.8; easing: ease-out-expo" />
        <!-- Restore latent colors: 0,1,4 green (0x22c55e), 2,3 yellow (0xfbbf24) -->
        <a tween="target: @out-latent-0.mesh.color-r; to: 0.13; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-0.mesh.color-b; to: 0.37; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-r; to: 0.13; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-1.mesh.color-b; to: 0.37; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-r; to: 0.984; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-2.mesh.color-b; to: 0.141; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-r; to: 0.984; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-g; to: 0.749; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-3.mesh.color-b; to: 0.141; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-r; to: 0.13; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @out-latent-4.mesh.color-b; to: 0.37; duration: 0.6; easing: ease-out-expo" />
        <!-- Restore text colors to output green (0x5a9580) -->
        <a tween="target: @output-0.text.color-r; to: 0.353; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.text.color-g; to: 0.584; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.text.color-b; to: 0.502; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-r; to: 0.353; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-g; to: 0.584; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.text.color-b; to: 0.502; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-r; to: 0.353; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-g; to: 0.584; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.text.color-b; to: 0.502; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-r; to: 0.353; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-g; to: 0.584; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.text.color-b; to: 0.502; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-r; to: 0.353; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-g; to: 0.584; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.text.color-b; to: 0.502; duration: 0.6; easing: ease-out-expo" />
        <!-- Restore border colors to output green (0x7dc4ab) -->
        <a tween="target: @output-0.border.color-r; to: 0.49; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.border.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-0.border.color-b; to: 0.67; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-r; to: 0.49; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-1.border.color-b; to: 0.67; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-r; to: 0.49; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-2.border.color-b; to: 0.67; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-r; to: 0.49; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-3.border.color-b; to: 0.67; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-r; to: 0.49; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-g; to: 0.77; duration: 0.6; easing: ease-out-expo" />
        <a tween="target: @output-4.border.color-b; to: 0.67; duration: 0.6; easing: ease-out-expo" />
        <!-- Show checkmarks -->
        <a tween="target: @mark-0.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-0.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-0.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-1.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-1.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-1.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-2.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-2.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-2.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-3.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-3.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-3.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-x; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-y; to: 1; duration: 0.3; easing: ease-out-back" />
        <a tween="target: @mark-4.transform.scale-z; to: 1; duration: 0.3; easing: ease-out-back" />
    </a>

</scene>
