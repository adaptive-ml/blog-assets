import"../modulepreload-polyfill-B5Qt9EMX.js";/* empty css                */import{s as o,a as m,b as u,S as b,m as g,T as h,R as f,O as _,L as w,c as y,d as P,e as E,h as a,i as S}from"../canvas-setup-F5JALq5m.js";import{P as T,b as l,d as v,s as C,f as x,a as L}from"../index-Kb45e7jD.js";const d=[{title:"Compare Distributions",description:'The <span class="term-draft-model">draft</span> and <span class="term-target-model">target</span> models produce different probability distributions.'},{title:"Guaranteed Acceptance",description:'The <span style="color: #14b8a6">minimum</span> of the two distributions represents probability mass that will always be accepted.'},{title:"Excess Draft",description:'Where <span class="term-draft-model">draft</span> exceeds <span class="term-target-model">target</span>, tokens may be <span class="term-reject">rejected</span> with probability proportional to the excess.'},{title:"Rejection & Resampling",description:'When rejected, we <span class="term-residual">resample</span> from the residualâ€”the probability mass where <span class="term-target-model">target</span> exceeds <span class="term-draft-model">draft</span>.'},{title:"Exact Target Distribution",description:'The <span style="color: #14b8a6">guaranteed acceptance</span> plus <span class="term-residual">residual resampling</span> recovers the exact <span class="term-target-model">target</span> distribution.'}],D=10,B=[.05,.12,.08,.35,.15,.08,.05,.04,.05,.03],R=[.08,.1,.15,.2,.12,.1,.08,.07,.06,.04];async function c(){const e=document.getElementById("canvas");if(!e)return;o(e),m(e),window.addEventListener("resize",()=>o(e)),await u("ABC Diatype",400);const t=await b.new().withCanvas(e).withLoading(g(e)).withPlugins(h,f,_,w,y,P,E(),T).withScene("../scenes/distribution.scene").build(),i=[...t.query([l])][0];i!==void 0&&(l.barCount[i]=D,v(i,B,R)),e.__state__=t,C(e,t);const s=[...t.query([a])][0];if(e.__controllerEid__=s,s!==void 0){e.__getStep__=()=>a.target[s],e.__setStep__=r=>{a.target[s]=r},e.__maxStep__=d.length-1;const p=x(document.body);L(p,{steps:d,onStepChange(r){a.target[s]=r}})}S(t);const n=()=>{window.parent.postMessage({type:"iframe-resize",height:document.body.scrollHeight},"*")};n(),window.addEventListener("resize",n)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();
//# sourceMappingURL=distribution-DIk9IUPm.js.map
